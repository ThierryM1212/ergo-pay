# Ergo Payment Portal

This project intends to ease Ergo and SigUSD payments integration.<br/>
It provides a webpage allowing to generate URL to request Ergo payments to be proceed with Yoroi dApp connector.<br/>
Those URLs can be generated by any website to request a payment in Ergo or SigUSD, it can includes a reference so when the payment is received the website is notified of which payment has been received.<br/>

The main project is ergo-payment-portal, allowing to process the payment, generate payment URLs and monitor the vouchers.<br/>
The monitor-vouchers project is a small nodejs interface allowing to get the vouchers in json from an http request in order to automate the payment processing.<br/>
The main app (dApp) ergo-payment-portal is distributed as a static webpage and does not allow such automation.<br/>

# Why should I use it ?

You can integrate a FREE payment interface in your website or application, processing payment with 0 fee and no refund can be executed by a third party.

# How to integrate it ?

## Option 1: Use the deployed Ergo Pay at: https://thierrym1212.github.io/paymentportal/

In this option you do not deploy a personal Ergo payment portal, and will support the fee of the deployed dApp (0.1% min or 0.001 ERG or 0.01 SigUSD).<br/>
You can monitor the payment through the https://thierrym1212.github.io/paymentportal/voucher.html page or automate it using the monitor-vouchers nodejs script.<br/>
<br/>
You need to:<br/>
  - create an Ergo wallet to get an ERG address<br/>
  - create links in your website or application to the payment portal:<br/>
  https://thierrym1212.github.io/paymentportal/pay.html?address=9ew97YCt7zQDwmLsytMAWGj2kockM11PFCnRvT2cz9LQaaB7uPG&currency=ERG&amount=5&ref=Account_17889569<br/>
```
    URL parameters are:
        address=9ew97YCt7zQDwmLsytMAWGj2kockM11PFCnRvT2cz9LQaaB7uPG
        currency=ERG
        amount=5
        ref=Account_17889569
```
<br/>
address needs to be a valid ERG address<br/>
currency needs to be ERG or SIGUSD<br/>
amount needs to be > 0.1 for ERG and > 0.01 for SigUSG<br/>
ref is optional, it can be any string up to 40 ascii char<br/>
<br/>
  - monitor the payments at https://thierrym1212.github.io/paymentportal/voucher.html?address=9ew97YCt7zQDwmLsytMAWGj2kockM11PFCnRvT2cz9LQaaB7uPG<br/>
    You will see the payment received until you move the fund in any transaction.
    
## Option 2: Deploy your own Ergo payment portal

- Checkout the ergo-payment-portal project and follow the readme to build a static page
- Integrate the static page generated in the dist folder in your application / website, setting the dApp fees to 0
- Integrate ergo payments like for option 1
- Additionnally, to automate the payment processing in your website/application, you can run the monitor-vouchers project included in this repository in order to get the json list of payments received with their reference.

This alows you to handle your own payment portal direct from customers.


